{"version":3,"sources":["services/API.js","components/Category.js","components/Menu.js","components/HomePage.js","App.js","index.js"],"names":["API","branch_id","fetch","trim","then","res","json","language_id","Category","_Component","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","apply","arguments","inherits","createClass","key","value","_componentDidMount","asyncToGenerator","regenerator_default","a","mark","_callee","wrap","_context","prev","next","stop","react_default","createElement","className","props","language","language_direction","style","direction","role","category","category_name","category_description","dishes","map","dish","dish_id","dish_name","dish_price","dish_description","Component","Menu","_getPrototypeOf2","_this","_len","length","args","Array","_key","call","concat","state","client_data","menu","_this2","GetBranch","sent","setState","client_default_language","toString","GetDefaultMenu","rawMenu","parseMenu","GetMenu","GetLanguage","Map","parsedMenu","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_loop","menuItem","has","category_id","set","push","filter","p","_iterator","Symbol","iterator","done","err","return","_this3","components_Category","HomePage","languages","clientData","GetLanguages","client_name","client_description","_id","href","name","App","react_router","exact","path","render","components_HomePage","match","params","components_Menu","ReactDOM","react_router_dom","src_App_0","document","getElementById"],"mappings":"0QA2BeA,4GA1BOC,GAClB,OAAOC,MAAM,yBAA2BD,EAAUE,QAAQC,KAAK,SAAAC,GAAG,OAChEA,EAAIC,2CAGSL,GACf,OAAOC,MAAM,sBAAwBD,EAAUE,QAAQC,KAAK,SAAAC,GAAG,OAC7DA,EAAIC,yCAGOL,EAAWM,GACxB,OAAOL,MACL,oBAAsBD,EAAUE,OAAS,aAAeI,EAAYJ,QACpEC,KAAK,SAAAC,GAAG,OAAIA,EAAIC,gDAEEL,EAAWM,GAC/B,OAAOL,MAAM,oBAAsBD,EAAUE,QAAQC,KAAK,SAAAC,GAAG,OAC3DA,EAAIC,6CAGWC,GACjB,OAAOL,MAAM,0BAA4BK,EAAYJ,QAAQC,KAAK,SAAAC,GAAG,OACnEA,EAAIC,kBCKKE,EA1Bf,SAAAC,GAAA,SAAAD,IAAA,OAAAE,OAAAC,EAAA,EAAAD,CAAAE,KAAAJ,GAAAE,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAF,GAAAO,MAAAH,KAAAI,YAAA,OAAAN,OAAAO,EAAA,EAAAP,CAAAF,EAAAC,GAAAC,OAAAQ,EAAA,EAAAR,CAAAF,EAAA,EAAAW,IAAA,oBAAAC,MAAA,eAAAC,EAAAX,OAAAY,EAAA,EAAAZ,CAAAa,EAAAC,EAAAC,KAAA,SAAAC,IAAA,OAAAH,EAAAC,EAAAG,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,wBAAAF,EAAAG,SAAAL,MAAA,yBAAAL,EAAAN,MAAAH,KAAAI,YAAA,KAAAG,IAAA,SAAAC,MAAA,WAIQ,OAEIY,EAAAR,EAAAS,cAAA,OAAMC,UAAuD,QAA3CtB,KAAKuB,MAAMC,SAASC,mBAA8B,YAAY,aAAcC,MAAO,CAACC,UAAU3B,KAAKuB,MAAMC,SAASC,qBAChIL,EAAAR,EAAAS,cAAA,OAAKC,UAAU,aACXF,EAAAR,EAAAS,cAAA,OAAKC,UAAU,2BAA2BM,KAAK,SAC3CR,EAAAR,EAAAS,cAAA,MAAIC,UAAU,eAAetB,KAAKuB,MAAMM,SAASC,eACjDV,EAAAR,EAAAS,cAAA,SAAIrB,KAAKuB,MAAMM,SAASE,uBAE5BX,EAAAR,EAAAS,cAAA,OAAKC,UAAU,iBAAiBM,KAAK,SAChC5B,KAAKuB,MAAMM,SAASG,OAAOC,IAAI,SAAAC,GAAI,OAChCd,EAAAR,EAAAS,cAAA,OAAKd,IAAK2B,EAAKC,SACXf,EAAAR,EAAAS,cAAA,UAAKa,EAAKE,UAAV,KAAuBF,EAAKG,WAA5B,KACAjB,EAAAR,EAAAS,cAAA,SAAIa,EAAKI,4BAhBzC1C,EAAA,CAA8B2C,aC0DfC,EAxDf,SAAA3C,GAAA,SAAA2C,IAAA,IAAAC,EAAAC,EAAA5C,OAAAC,EAAA,EAAAD,CAAAE,KAAAwC,GAAA,QAAAG,EAAAvC,UAAAwC,OAAAC,EAAA,IAAAC,MAAAH,GAAAI,EAAA,EAAAA,EAAAJ,EAAAI,IAAAF,EAAAE,GAAA3C,UAAA2C,GAAA,OAAAL,EAAA5C,OAAAG,EAAA,EAAAH,CAAAE,MAAAyC,EAAA3C,OAAAI,EAAA,EAAAJ,CAAA0C,IAAAQ,KAAA7C,MAAAsC,EAAA,CAAAzC,MAAAiD,OAAAJ,MACEK,MAAQ,CACNC,YAAa,GACbC,KAAM,GACN5B,SAAU,IAJdkB,EAAA,OAAA5C,OAAAO,EAAA,EAAAP,CAAA0C,EAAA3C,GAAAC,OAAAQ,EAAA,EAAAR,CAAA0C,EAAA,EAAAjC,IAAA,oBAAAC,MAAA,eAAAC,EAAAX,OAAAY,EAAA,EAAAZ,CAAAa,EAAAC,EAAAC,KAAA,SAAAC,IAAA,IAAAqC,EAAAE,EAAArD,KAAA,OAAAW,EAAAC,EAAAG,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAE,KAAA,EAO8B9B,EAAIkE,UAAUtD,KAAKuB,MAAMlC,WAPvD,OAOU8D,EAPVnC,EAAAuC,KAQIvD,KAAKwD,SAAS,CAAEL,gBACZnD,KAAKkD,MAAMC,YAAYM,wBAAwBC,aAAe1D,KAAKuB,MAAM5B,YAAY+D,WAEvFtE,EAAIuE,eAAe3D,KAAKuB,MAAMlC,UAAWW,KAAKuB,MAAM5B,aAAaH,KAAK,SAAAoE,GACpEP,EAAKG,SAAS,CAAEJ,KAAMC,EAAKQ,UAAUD,OAKvCxE,EAAI0E,QAAQ9D,KAAKuB,MAAMlC,UAAWW,KAAKuB,MAAM5B,aAAaH,KAAK,SAAAoE,GAC7DP,EAAKG,SAAS,CAAEJ,KAAMC,EAAKQ,UAAUD,OAGzCxE,EAAI2E,YAAY/D,KAAKuB,MAAM5B,aAAaH,KAAK,SAAAgC,GAC3C6B,EAAKG,SAAS,CAAEhC,SAASA,MAtB/B,wBAAAR,EAAAG,SAAAL,EAAAd,SAAA,yBAAAS,EAAAN,MAAAH,KAAAI,YAAA,KAAAG,IAAA,YAAAC,MAAA,SA0BY4C,GACR,IAAMnB,EAAM,IAAI+B,IACVC,EAAa,GAFNC,GAAA,EAAAC,GAAA,EAAAC,OAAAC,EAAA,IAGX,IAHW,IAGXC,EAHWC,EAAA,eAGAC,EAHAF,EAAA9D,MAKJyB,EAAIwC,IAAID,EAASE,eAEpBzC,EAAI0C,IAAIH,EAASE,aAAa,GAE9BT,EAAWW,KAAK,CACdF,YAAaF,EAASE,YACtB5C,cAAe0C,EAAS1C,cACxBC,qBAAsByC,EAASzC,qBAC/BC,OAAQoB,EAAKyB,OAAO,SAAAC,GAAC,OAAEA,EAAEJ,cAAgBF,EAASE,kBAVxDK,EAAuB3B,EAAvB4B,OAAAC,cAAAf,GAAAI,EAAAS,EAAA7D,QAAAgE,MAAAhB,GAAA,EAA6BK,IAHlB,MAAAY,GAAAhB,GAAA,EAAAC,EAAAe,EAAA,YAAAjB,GAAA,MAAAa,EAAAK,QAAAL,EAAAK,SAAA,WAAAjB,EAAA,MAAAC,GAiBX,OAAOH,IA3Cb,CAAA1D,IAAA,SAAAC,MAAA,WA8CW,IAAA6E,EAAArF,KAEP,OAAOoB,EAAAR,EAAAS,cAAA,OAAKC,UAAU,QACnBtB,KAAKkD,MAAME,KAAKnB,IAAI,SAAAJ,GAAQ,OAC3BT,EAAAR,EAAAS,cAACiE,EAAD,CAAU/E,IAAKsB,EAAS6C,YAAa7C,SAAUA,EAAUL,SAAU6D,EAAKnC,MAAM1B,kBAlDtFgB,EAAA,CAA0BD,aCsCXgD,EAvCf,SAAA1F,GAAA,SAAA0F,IAAA,IAAA9C,EAAAC,EAAA5C,OAAAC,EAAA,EAAAD,CAAAE,KAAAuF,GAAA,QAAA5C,EAAAvC,UAAAwC,OAAAC,EAAA,IAAAC,MAAAH,GAAAI,EAAA,EAAAA,EAAAJ,EAAAI,IAAAF,EAAAE,GAAA3C,UAAA2C,GAAA,OAAAL,EAAA5C,OAAAG,EAAA,EAAAH,CAAAE,MAAAyC,EAAA3C,OAAAI,EAAA,EAAAJ,CAAAyF,IAAAvC,KAAA7C,MAAAsC,EAAA,CAAAzC,MAAAiD,OAAAJ,MACEK,MAAQ,CACNsC,UAAW,GACXC,WAAY,IAHhB/C,EAAA,OAAA5C,OAAAO,EAAA,EAAAP,CAAAyF,EAAA1F,GAAAC,OAAAQ,EAAA,EAAAR,CAAAyF,EAAA,EAAAhF,IAAA,oBAAAC,MAAA,WAMsB,IAAA6C,EAAArD,KAClBZ,EAAIsG,aAAa1F,KAAKuB,MAAMlC,WAAWG,KAAK,SAAAC,GAC1C4D,EAAKG,SAAS,CAAEgC,UAAW/F,MAE7BL,EAAIkE,UAAUtD,KAAKuB,MAAMlC,WAAWG,KAAK,SAAAC,GACvC4D,EAAKG,SAAS,CAAEiC,WAAYhG,QAXlC,CAAAc,IAAA,SAAAC,MAAA,WAeW,IAAA6E,EAAArF,KACP,OACEoB,EAAAR,EAAAS,cAAA,OAAKC,UAAU,wCACbF,EAAAR,EAAAS,cAAA,MAAIC,UAAU,qBACXtB,KAAKkD,MAAMuC,WAAWE,aAEzBvE,EAAAR,EAAAS,cAAA,OAAKC,UAAU,2BAA2BM,KAAK,SAC7CR,EAAAR,EAAAS,cAAA,UAAKrB,KAAKkD,MAAMuC,WAAWG,qBAE5B5F,KAAKkD,MAAMsC,UAAUvD,IAAI,SAAAT,GAAQ,OAChCJ,EAAAR,EAAAS,cAAA,KACEd,IAAKiB,EAASqE,IACdvE,UAAU,sBACVwE,KAAM,IAAMT,EAAK9D,MAAMlC,UAAY,IAAMmC,EAASqE,IAClDjE,KAAK,UAEJJ,EAASuE,aA/BtBR,EAAA,CAA8BhD,aC4BfyD,SAzBf,SAAAnG,GAAA,SAAAmG,IAAA,OAAAlG,OAAAC,EAAA,EAAAD,CAAAE,KAAAgG,GAAAlG,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAkG,GAAA7F,MAAAH,KAAAI,YAAA,OAAAN,OAAAO,EAAA,EAAAP,CAAAkG,EAAAnG,GAAAC,OAAAQ,EAAA,EAAAR,CAAAkG,EAAA,EAAAzF,IAAA,SAAAC,MAAA,WAEI,OACEY,EAAAR,EAAAS,cAAC4E,EAAA,EAAD,KACE7E,EAAAR,EAAAS,cAAC4E,EAAA,EAAD,CAAOC,OAAK,EACVC,KAAK,cACLC,OAAQ,SAAA7E,GAAK,OACXH,EAAAR,EAAAS,cAACgF,EAAD,CAAUhH,UAAWkC,EAAM+E,MAAMC,OAAOlH,eAI5C+B,EAAAR,EAAAS,cAAC4E,EAAA,EAAD,CACEE,KAAK,2BACLC,OAAQ,SAAA7E,GAAK,OACXH,EAAAR,EAAAS,cAACmF,EAAD,CACEnH,UAAWkC,EAAM+E,MAAMC,OAAOlH,UAC9BM,YAAa4B,EAAM+E,MAAMC,OAAO5G,sBAhB9CqG,EAAA,CAAyBzD,cCDzBkE,IAASL,OACPhF,EAAAR,EAAAS,cAACqF,EAAA,EAAD,KACEtF,EAAAR,EAAAS,cAACsF,EAAD,OAEFC,SAASC,eAAe","file":"static/js/main.8ddee0a0.chunk.js","sourcesContent":["class API {\r\n  static GetLanguages(branch_id) {\r\n    return fetch(\"/api/languages/branch=\" + branch_id.trim()).then(res =>\r\n      res.json()\r\n    );\r\n  }\r\n  static GetBranch(branch_id) {\r\n    return fetch(\"/api/branch/branch=\" + branch_id.trim()).then(res =>\r\n      res.json()\r\n    );\r\n  }\r\n  static GetMenu(branch_id, language_id) {\r\n    return fetch(\r\n      \"/api/menu/branch=\" + branch_id.trim() + \"/language=\" + language_id.trim()\r\n    ).then(res => res.json());\r\n  }\r\n  static GetDefaultMenu(branch_id, language_id) {\r\n    return fetch(\"/api/menu/branch=\" + branch_id.trim()).then(res =>\r\n      res.json()\r\n    );\r\n  }\r\n  static GetLanguage(language_id) {\r\n    return fetch(\"/api/language/language=\" + language_id.trim()).then(res =>\r\n      res.json()\r\n    );\r\n  }\r\n}\r\nexport default API;\r\n","import React, { Component } from 'react'\r\n\r\nexport class Category extends Component {\r\n    async componentDidMount() {\r\n    }\r\n    render() {\r\n        return (\r\n            \r\n            <div  className={(this.props.language.language_direction === \"ltr\")?\"text-left\":\"text-right\"} style={{direction:this.props.language.language_direction}}>\r\n                <div className=\"container\">\r\n                    <div className=\"alert bg-info text-light\" role=\"alert\">\r\n                        <h2 className=\"text-border\">{this.props.category.category_name}</h2>\r\n                        <p>{this.props.category.category_description}</p>\r\n                    </div>\r\n                    <div className=\"alert bg-light\" role=\"alert\">\r\n                        {this.props.category.dishes.map(dish=>(\r\n                            <div key={dish.dish_id} >\r\n                                <h4>{dish.dish_name} ({dish.dish_price})</h4>\r\n                                <p>{dish.dish_description}</p>\r\n                            </div>\r\n                        ))}\r\n                    </div>                \r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Category\r\n","import React, { Component } from \"react\";\r\nimport API from \"../services/API\";\r\nimport Category from \"./Category\";\r\n\r\nexport class Menu extends Component {\r\n  state = {\r\n    client_data: [],\r\n    menu: [],\r\n    language: []\r\n  };\r\n  async componentDidMount() {\r\n    const client_data = await API.GetBranch(this.props.branch_id);\r\n    this.setState({ client_data });\r\n    if (this.state.client_data.client_default_language.toString() === this.props.language_id.toString())\r\n    {\r\n      API.GetDefaultMenu(this.props.branch_id, this.props.language_id).then(rawMenu=>{\r\n        this.setState({ menu: this.parseMenu(rawMenu) });\r\n      });      \r\n    }\r\n    else\r\n    {\r\n      API.GetMenu(this.props.branch_id, this.props.language_id).then(rawMenu => {\r\n        this.setState({ menu: this.parseMenu(rawMenu) });\r\n      });\r\n    }\r\n    API.GetLanguage(this.props.language_id).then(language => {\r\n      this.setState({ language:language });\r\n    });\r\n  }\r\n\r\n  parseMenu(menu){\r\n    const map = new Map();\r\n      let parsedMenu = [];\r\n      for (const menuItem of menu) {\r\n        //check if it exists\r\n        if (!map.has(menuItem.category_id)) {\r\n          //if not - set it\r\n          map.set(menuItem.category_id, true);\r\n          //and add the category\r\n          parsedMenu.push({\r\n            category_id: menuItem.category_id,\r\n            category_name: menuItem.category_name,\r\n            category_description: menuItem.category_description,\r\n            dishes: menu.filter(p=>p.category_id === menuItem.category_id)\r\n          });\r\n        }\r\n      }      \r\n      return parsedMenu;\r\n    }\r\n\r\n  render() {\r\n\r\n    return <div className=\"mt-2\">\r\n      {this.state.menu.map(category=>(\r\n        <Category key={category.category_id} category={category} language={this.state.language}></Category>\r\n      ))}\r\n    </div>;\r\n  }\r\n}\r\n\r\nexport default Menu;\r\n","import React, { Component } from \"react\";\r\nimport API from \"../services/API\";\r\n\r\nexport class HomePage extends Component {\r\n  state = {\r\n    languages: [],\r\n    clientData: \"\"\r\n  };\r\n\r\n  componentDidMount() {\r\n    API.GetLanguages(this.props.branch_id).then(res => {\r\n      this.setState({ languages: res });\r\n    });\r\n    API.GetBranch(this.props.branch_id).then(res => {\r\n      this.setState({ clientData: res });\r\n    });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"container p-4 text-center text-light\">\r\n        <h1 className=\"mb-2 text-border \">\r\n          {this.state.clientData.client_name}\r\n        </h1>\r\n        <div className=\"alert bg-light text-dark\" role=\"alert\">\r\n          <h4>{this.state.clientData.client_description}</h4>\r\n        </div>\r\n        {this.state.languages.map(language => (\r\n          <a\r\n            key={language._id}\r\n            className=\"btn btn-primary m-2\"\r\n            href={\"/\" + this.props.branch_id + \"/\" + language._id}\r\n            role=\"button\"\r\n          >\r\n            {language.name}\r\n          </a>\r\n        ))}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default HomePage;\r\n","import React, { Component } from \"react\";\r\nimport { Switch, Route } from \"react-router-dom\";\r\nimport Menu from \"./components/Menu\";\r\nimport HomePage from \"./components/HomePage\";\r\nimport \"./App.css\"\r\n\r\nexport class App extends Component {\r\n  render() {\r\n    return (\r\n      <Switch>\r\n        <Route exact\r\n          path=\"/:branch_id\"\r\n          render={props => (\r\n            <HomePage branch_id={props.match.params.branch_id} />\r\n          )}\r\n        />\r\n\r\n        <Route\r\n          path=\"/:branch_id/:language_id\"\r\n          render={props => (\r\n            <Menu\r\n              branch_id={props.match.params.branch_id}\r\n              language_id={props.match.params.language_id}\r\n            />\r\n          )}\r\n        />\r\n      </Switch>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport { BrowserRouter } from \"react-router-dom\";\r\nimport App from \"./App\";\r\n\r\nReactDOM.render(\r\n  <BrowserRouter>\r\n    <App />\r\n  </BrowserRouter>,\r\n  document.getElementById(\"root\")\r\n);\r\n"],"sourceRoot":""}